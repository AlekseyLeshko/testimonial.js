Parser=function(r){this.$nodeArr=r,this.dataArr=[]},Parser.prototype={parse:function(){for(var r=0;r<this.$nodeArr.length;r++){var t=$(this.$nodeArr[r]);this.parseNode(t)}return this.dataArr},parseNode:function(r){var t=this.parseAuthorNode(r.children(".author"));t.quote=r.children(".quote").text().trim(),this.dataArr.push(t)},parseAuthorNode:function(r){var t=r.children(".full_name"),e=r.children(".company"),a={fullName:t.text().trim(),authorHref:this.getAttrHrefOrDefault(t.children("a")),company:e.text().trim(),companyHref:this.getAttrHrefOrDefault(e.children("a")),fotoSrc:r.children(".foto").attr("src")};return a},getAttrHrefOrDefault:function(r){var t=r.attr("href");return void 0===t&&(t="#"),t}};
Testimonial=function(t,i){this.$container=t,this.pluginOptions={},this.$slides=[],this.dataArr=[],this.currentSlideIndex=0,this.initPlugin(i)},Testimonial.prototype={initPlugin:function(t){this.createOptions(t),this.parseDomTree(),this.createSlides(),this.createInfrastructure(),this.slideRendering(),this.resizePluginContainer(),this.pluginOptions.autostart&&this.start()},start:function(){var t=this;this.timerId=setInterval(function(){t.next()},this.pluginOptions.timeout)},stop:function(){clearInterval(this.timerId),this.timerId=void 0},next:function(){void 0!==this.timerId&&this.stop();var t=this.$slides[this.currentSlideIndex];this.indexing();var i=this.$slides[this.currentSlideIndex];t.animateHide(),i.animateShow(),this.resizePluginContainer(),this.start()},createOptions:function(t){var i=this.getDefaultOptions();this.pluginOptions=$.extend(i,t)},getDefaultOptions:function(){var t={timeout:7e3,autostart:!0};return t},slideRendering:function(){for(var t=0;t<this.$slides.length;t++){var i=this.$slides[t];0!==t&&i.hideSlide(),this.$slidesWrapper.append(i.getDomNode())}},parseDomTree:function(){var t=this.$container.children();t.remove();var i=new Parser(t);this.dataArr=i.parse()},createSlides:function(){for(var t=0;t<this.dataArr.length;t++){var i=this.dataArr[t],e=new TestimonialSlide(i);this.$slides.push(e)}},createInfrastructure:function(){this.$slidesWrapper=$("<div />",{"class":"main_container"}),this.$container.append(this.$slidesWrapper),this.createButtonNext()},createButtonNext:function(){var t=$("<div />",{"class":"next_slide"});t.click(function(){testimonial.next()}),this.$container.append(t)},resizePluginContainer:function(){var t=20,i=this.$slides[this.currentSlideIndex].height();this.$container.height(i+t)},indexing:function(){return 0===this.$slides.length?(this.currentSlideIndex=0,void 0):(this.currentSlideIndex++,this.currentSlideIndex===this.$slides.length&&(this.currentSlideIndex=0),void 0)}};
TestimonialSlide=function(t){this.data=this.createData(t),this.createOptions(),this.createSlide()},TestimonialSlide.prototype={createData:function(t){var e={authorHref:"",company:"",companyHref:"",fotoSrc:"",fullName:"",quote:""},a=$.extend(e,t);return a},createOptions:function(){this.options={duration:750,distance:250,cssClass:"testimonial_slide"}},createSlide:function(){this.createStandardDomNode(),this.$domNode.append(this.createQuoteNode()),this.$domNode.append(this.createImgAuthorFoto())},createStandardDomNode:function(){this.$domNode=$("<div />",{"class":this.options.cssClass})},createQuoteNode:function(){var t=$("<div />",{"class":"quote"});return t.append(this.createQuotationMark()),t.append(this.createTextNode()),t.append(this.createQuotationMarkInverted()),t.append(this.createSignatureNode()),t},createTextNode:function(){var t=$("<div />",{"class":"text"});return t.text(this.data.quote),t},createQuotationMark:function(){var t=$("<div />",{"class":"quotation_mark"});return t},createQuotationMarkInverted:function(){var t=$("<div />",{"class":"quotation_mark_inverted"});return t},createSignatureNode:function(){var t=$("<div />",{"class":"signature"});return t.append(this.createAuthorNode()),t.append(this.createCompanyNode()),t},createAuthorNode:function(){var t=$("<div />",{"class":"author"});return t.text("- "),t.append(this.createLinkNode(this.data.authorHref,this.data.fullName)),t},createCompanyNode:function(){var t=$("<div />",{"class":"company"});return t.append(this.createLinkNode(this.data.companyHref,this.data.company)),t},createLinkNode:function(t,e){var a=$("<a />",{target:"_blank",href:t,text:e});return a},createImgAuthorFoto:function(){var t=$("<img />",{"class":"author_foto",src:this.data.fotoSrc});return t},animateHide:function(){var t=this;this.$domNode.animate({"margin-left":"+="+this.options.distance+"px",opacity:"0"},this.options.duration,function(){t.hideSlide()})},animateShow:function(){this.$domNode.show().animate({"margin-left":"+="+this.options.distance+"px",opacity:"1"},2*this.options.duration)},hideSlide:function(){var t={display:"none",opacity:0,"margin-left":"-"+this.options.distance+"px"};this.$domNode.css(t)},height:function(){return this.$domNode.height()},getDomNode:function(){return this.$domNode}};
//# sourceMappingURL=maps/testimonial.min.js.map