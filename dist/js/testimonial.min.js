/**
  * testimonial - Plugin that will help show all testimonial letters about your business!
  * @version v0.1.9
  * @link http://alekseyleshko.github.io/testimonial.js/
  * @license MIT (https://github.com/AlekseyLeshko/testimonial.js/blob/master/LICENSE)
*/
"use strict";var Parser=function(t){this.$nodeArr=t,this.dataArr=[]};Parser.prototype={parse:function(){for(var t=0;t<this.$nodeArr.length;t++){var e=$(this.$nodeArr[t]),i=this.parseNode(e);this.dataArr.push(i)}return this.dataArr},parseNode:function(t){var e=this.parseAuthorNode(t.children(".author"));return e.quote=t.children(".quote").text().trim(),e},parseAuthorNode:function(t){var e=t.children(".full_name"),i=t.children(".company"),n={fullName:e.text().trim(),authorHref:this.getAttrHrefOrDefault(e.children("a")),company:i.text().trim(),companyHref:this.getAttrHrefOrDefault(i.children("a")),fotoSrc:t.children(".foto").attr("src")};return n},getAttrHrefOrDefault:function(t){var e=t.attr("href");return void 0===e&&(e="#"),e}};var Testimonial=function(t,e){this.$container=t,this.pluginOptions={},this.$slides=[],this.dataArr=[],this.currentSlideIndex=0,this.initPlugin(e)};Testimonial.prototype={initPlugin:function(t){this.createOptions(t),this.parseDomTree(),this.createSlides(),this.createInfrastructure(),this.slideListRendering(),this.resizePluginContainer(),this.pluginOptions.autostart&&this.start()},start:function(){var t=this;this.timerId=setInterval(function(){t.next()},this.pluginOptions.timeout)},stop:function(){clearInterval(this.timerId),this.timerId=void 0},next:function(){void 0!==this.timerId&&this.stop();var t=this.$slides[this.currentSlideIndex];this.indexing();var e=this.$slides[this.currentSlideIndex];t.animateHide(),e.animateShow(),this.resizePluginContainer(),this.start()},createOptions:function(t){var e=this.getDefaultOptions();this.pluginOptions=$.extend(e,t)},getDefaultOptions:function(){var t={timeout:7e3,autostart:!0};return t},slideListRendering:function(){for(var t=0;t<this.$slides.length;t++){var e=this.$slides[t],i=t===this.currentSlideIndex;this.slideRendering(e,i)}},parseDomTree:function(){var t=this.$container.children();if(!(t.length<=0)){t.remove();var e=new Parser(t);this.dataArr=e.parse()}},createSlides:function(){for(var t=0;t<this.dataArr.length;t++){var e=this.dataArr[t],i=new TestimonialSlide(e);this.$slides.push(i)}},createInfrastructure:function(){this.$slidesWrapper=$("<div />",{"class":"main_container"}),this.$container.append(this.$slidesWrapper),this.createButtonNext()},createButtonNext:function(){var t=$("<div />",{"class":"next_slide"}),e=this;t.click(function(){e.next()}),this.$container.append(t)},resizePluginContainer:function(){if(!(this.$slides.length<=0)){var t=20,e=this.$slides[this.currentSlideIndex].height();this.$container.height(e+t)}},indexing:function(){return 0===this.$slides.length?void(this.currentSlideIndex=0):(this.currentSlideIndex++,void(this.currentSlideIndex===this.$slides.length&&(this.currentSlideIndex=0)))},slideRendering:function(t,e){e||t.hideSlide();var i=t.getDomNode();this.$slidesWrapper.append(i)},add:function(t){var e=new TestimonialSlide(t);this.$slides.push(e),this.slideRendering(e,!1)}};var TestimonialSlide=function(t){this.data=this.createData(t),this.createOptions(),this.createSlide()};TestimonialSlide.prototype={createData:function(t){var e={authorHref:"",company:"",companyHref:"",fotoSrc:"",fullName:"",quote:""},i=$.extend(e,t);return i},createOptions:function(){this.options={duration:750,distance:250,cssClass:"testimonial_slide"}},createSlide:function(){this.createStandardDomNode(),this.$domNode.append(this.createQuoteNode()),this.$domNode.append(this.createImgAuthorFoto())},createStandardDomNode:function(){this.$domNode=$("<div />",{"class":this.options.cssClass})},createQuoteNode:function(){var t=$("<div />",{"class":"quote"});return t.append(this.createQuotationMark()),t.append(this.createTextNode()),t.append(this.createQuotationMarkInverted()),t.append(this.createSignatureNode()),t},createTextNode:function(){var t=$("<div />",{"class":"text"});return t.text(this.data.quote),t},createQuotationMark:function(){var t=$("<div />",{"class":"quotation_mark"});return t},createQuotationMarkInverted:function(){var t=$("<div />",{"class":"quotation_mark_inverted"});return t},createSignatureNode:function(){var t=$("<div />",{"class":"signature"});return t.append(this.createAuthorNode()),t.append(this.createCompanyNode()),t},createAuthorNode:function(){var t=$("<div />",{"class":"author"});return t.text("- "),t.append(this.createLinkNode(this.data.authorHref,this.data.fullName)),t},createCompanyNode:function(){var t=$("<div />",{"class":"company"});return t.append(this.createLinkNode(this.data.companyHref,this.data.company)),t},createLinkNode:function(t,e){var i=$("<a />",{target:"_blank",href:t,text:e});return i},createImgAuthorFoto:function(){var t=$("<img />",{"class":"author_foto",src:this.data.fotoSrc});return t},animateHide:function(){var t=this;this.$domNode.animate({"margin-left":"+="+this.options.distance+"px",opacity:"0"},this.options.duration,function(){t.hideSlide()})},animateShow:function(){this.$domNode.show().animate({"margin-left":"+="+this.options.distance+"px",opacity:"1"},2*this.options.duration)},hideSlide:function(){var t={display:"none",opacity:0,"margin-left":"-"+this.options.distance+"px"};this.$domNode.css(t)},height:function(){return this.$domNode.height()},getDomNode:function(){return this.$domNode}};