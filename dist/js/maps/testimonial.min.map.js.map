{"version":3,"sources":["parser.js","testimonial.js","testimonialSlide.js"],"names":[],"mappings":"AAMA,YAEA,IAAA,QAAA,SAAA,GACA,KAAA,UAAA,EACA,KAAA,YAGA,QAAA,WACA,MAAA,WACA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,UAAA,OAAA,IAAA,CACA,GAAA,GAAA,EAAA,KAAA,UAAA,IACA,EAAA,KAAA,UAAA,EACA,MAAA,SAAA,KAAA,GAGA,MAAA,MAAA,UAGA,UAAA,SAAA,GACA,GAAA,MAEA,EAAA,EAAA,SAAA,UACA,GAAA,OAAA,KAAA,gBAAA,EAEA,IAAA,GAAA,EAAA,SAAA,WAIA,OAHA,GAAA,QAAA,KAAA,iBAAA,GAEA,EAAA,MAAA,EAAA,SAAA,UAAA,OAAA,OACA,GAGA,gBAAA,SAAA,GACA,GAAA,GAAA,EAAA,SAAA,KACA,EAAA,EAAA,OAAA,OACA,EAAA,KAAA,qBAAA,GACA,EAAA,EAAA,SAAA,WAAA,KAAA,OAEA,GACA,KAAA,EACA,IAAA,EACA,OAAA,EAGA,OAAA,IAGA,iBAAA,SAAA,GACA,GAAA,GAAA,EAAA,SAAA,KACA,EAAA,EAAA,OAAA,OACA,EAAA,KAAA,qBAAA,GAEA,GACA,KAAA,EACA,IAAA,EAGA,OAAA,IAGA,qBAAA,SAAA,GACA,GAAA,GAAA,EAAA,KAAA,OAhEA,OAiEA,UAAA,IAnEA,EAAA,KAEA,GAMA,IAAA,aAAA,SAAA,EAAA,GACA,KAAA,WAAA,EAEA,KAAA,WAAA,GAGA,aAAA,WACA,MAAA,WACA,GAAA,GAAA,IACA,MAAA,QAAA,YAAA,WACA,EAAA,QAEA,KAAA,cAAA,UAGA,KAAA,WACA,cAAA,KAAA,SACA,KAAA,QAAA,QAGA,KAAA,WACA,SAAA,KAAA,SACA,KAAA,MAGA,IAAA,GAAA,KAAA,WAAA,KAAA,kBACA,MAAA,UACA,IAAA,GAAA,KAAA,WAAA,KAAA,kBAEA,GAAA,cACA,EAAA,cACA,KAAA,wBAEA,KAAA,mBAAA,KAAA,cAAA,WAAA,GACA,KAAA,YAGA,KAAA,SAGA,IAAA,SAAA,GAEA,GAAA,GAAA,GAAA,kBAAA,EAEA,MAAA,WAAA,KAAA,GACA,KAAA,eAAA,GAAA,GAEA,KAAA,eAGA,UAAA,WACA,GAAA,KAAA,cAAA,CACA,GAAA,GAAA,IC5DA,YD6DA,GAAA,MACA,IAAA,KAAA,cACA,QAAA,SAAA,GACA,GAAA,GAAA,CACA,GAAA,IAAA,MC9DA,GAAA,KAAA,YAAA,CACA,GAAA,GAAA,KAAA,aAEA,YADA,MAAA,IAAA,KAKA,YAAA,WACA,GAAA,KAAA,WAAA,OAAA,KAAA,cAAA,WAAA,CACA,GAAA,GAAA,CACA,KAAA,KAAA,oBACA,EAAA,EACA,KAAA,qBAEA,KAAA,WAAA,GAAA,SAAA,SACA,KAAA,WAAA,OAAA,EAAA,KAIA,cAAA,SAAA,GACA,GAAA,GAAA,KAAA,mBACA,MAAA,cAAA,EAAA,OAAA,EAAA,IAGA,kBAAA,WACA,GAAA,IACA,QAAA,IACA,WAAA,EACA,WAAA,EAEA,OAAA,IAGA,mBAAA,WACA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,WAAA,OAAA,IAAA,CACA,GAAA,GAAA,KAAA,WAAA,GACA,EAAA,IAAA,KAAA,iBACA,MAAA,eAAA,EAAA,KAIA,aAAA,WACA,GAAA,GAAA,KAAA,WAAA,UACA,MAAA,EAAA,QAAA,GAAA,CAGA,EAAA,QAEA,IAAA,GAAA,GAAA,QAAA,EACA,MAAA,SAAA,EAAA,UAGA,aAAA,WACA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,SAAA,OAAA,IAAA,CACA,GAAA,GAAA,KAAA,SAAA,GAEA,EAAA,GAAA,kBAAA,EACA,MAAA,WAAA,KAAA,KAIA,qBAAA,WACA,KAAA,kBAAA,EAAA,WACA,QAAA,mBAEA,KAAA,WAAA,OAAA,KAAA,mBACA,KAAA,oBAGA,iBAAA,WACA,GAAA,GAAA,EAAA,WACA,QAAA,eAEA,EAAA,IACA,GAAA,MAAA,WACA,EAAA,SAEA,KAAA,WAAA,OAAA,IAGA,sBAAA,WACA,KAAA,KAAA,WAAA,QAAA,GAAA,CAGA,GAAA,GAAA,GACA,EAAA,KAAA,WAAA,KAAA,mBAAA,QAEA,MAAA,WAAA,OAAA,EAAA,KAGA,SAAA,WACA,MAAA,KAAA,KAAA,WAAA,YACA,KAAA,kBAAA,IAIA,KAAA,yBACA,KAAA,oBAAA,KAAA,WAAA,SACA,KAAA,kBAAA,MAIA,eAAA,SAAA,EAAA,GACA,GACA,EAAA,WAEA,IAAA,GAAA,EAAA,YACA,MAAA,kBAAA,OAAA,IAGA,cAAA,WACA,KAAA,eACA,KAAA,eACA,KAAA,uBACA,KAAA,qBACA,KAAA,yBAGA,WAAA,SAAA,GACA,KAAA,cACA,KAAA,YACA,KAAA,kBAAA,EACA,KAAA,YAAA,OACA,KAAA,cAAA,OAEA,KAAA,cAAA,GACA,KAAA,gBCjIA,KAAA,cAAA,WACA,KAAA,SAOA,IAAA,kBAAA,SAAA,GACA,KAAA,KAAA,KAAA,WAAA,GAEA,KAAA,gBACA,KAAA,cAGA,kBAAA,WACA,WAAA,SAAA,GACA,GAAA,IACA,QACA,KAAA,GACA,IAAA,GACA,OAAA,IAEA,SACA,KAAA,GACA,IAAA,IAEA,MAAA,IAEA,EAAA,EAAA,OAAA,EAAA,EACA,OAAA,IAGA,cAAA,WACA,KAAA,SACA,SAAA,IACA,SAAA,IACA,SAAA,sBAIA,YAAA,WACA,KAAA,wBACA,KAAA,SAAA,OAAA,KAAA,mBACA,KAAA,SAAA,OAAA,KAAA,wBAGA,sBAAA,WACA,KAAA,SAAA,EAAA,WACA,QAAA,KAAA,QAAA,YAIA,gBAAA,WACA,GAAA,GAAA,EAAA,WACA,QAAA,SAOA,OAJA,GAAA,OAAA,KAAA,mBAAA,mBACA,EAAA,OAAA,KAAA,kBACA,EAAA,OAAA,KAAA,mBAAA,4BACA,EAAA,OAAA,KAAA,uBACA,GAGA,eAAA,WACA,GAAA,GAAA,KAAA,mBAAA,OAEA,OADA,GAAA,KAAA,KAAA,KAAA,OACA,GAGA,mBAAA,SAAA,GACA,GAAA,GAAA,EAAA,WACA,QAAA,GAEA,OAAA,IAGA,oBAAA,WACA,GAAA,GAAA,KAAA,mBAAA,YAGA,OAFA,GAAA,OAAA,KAAA,oBACA,EAAA,OAAA,KAAA,qBACA,GAGA,iBAAA,WACA,GAAA,GAAA,KAAA,mBAAA,SACA,GAAA,KAAA,KACA,IAAA,GAAA,KAAA,eAAA,KAAA,KAAA,OAAA,IAAA,KAAA,KAAA,OAAA,KAEA,OADA,GAAA,OAAA,GACA,GAGA,kBAAA,WACA,GAAA,GAAA,KAAA,mBAAA,WACA,EAAA,KAAA,eAAA,KAAA,KAAA,QAAA,IAAA,KAAA,KAAA,QAAA,KAEA,OADA,GAAA,OAAA,GACA,GAGA,eAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,SACA,OAAA,SACA,KAAA,EACA,KAAA,GAEA,OAAA,IAGA,oBAAA,WACA,GAAA,GAAA,EAAA,WACA,QAAA,cACA,IAAA,KAAA,KAAA,OAAA,QAEA,OAAA,IAGA,YAAA,WACA,GAAA,GAAA,IAEA,MAAA,SAAA,SACA,cAAA,KAAA,KAAA,QAAA,SAAA,KACA,QAAA,KAEA,KAAA,QAAA,SACA,WACA,EAAA,eAKA,YAAA,WACA,KAAA,SAAA,OAAA,SACA,cAAA,KAAA,KAAA,QAAA,SAAA,KACA,QAAA,KAEA,EAAA,KAAA,QAAA,WAGA,UAAA,WACA,GAAA,IACA,QAAA,OACA,QAAA,EACA,cAAA,IAAA,KAAA,QAAA,SAAA,KAEA,MAAA,SAAA,IAAA,IAGA,OAAA,WACA,MAAA,MAAA,SAAA","file":"testimonial.min.map.js","sourcesContent":["'use strict';\n\nvar Parser = function($nodeList) {\n  this.$nodeList = $nodeList;\n  this.dataList = [];\n};\n\nParser.prototype = {\n  parse: function() {\n    for (var i = 0; i < this.$nodeList.length; i++) {\n      var $node = $(this.$nodeList[i]);\n      var data = this.parseNode($node);\n      this.dataList.push(data);\n    }\n\n    return this.dataList;\n  },\n\n  parseNode: function($node) {\n    var data = {};\n\n    var $authorNode = $node.children('.author');\n    data.author = this.parseAuthorNode($authorNode);\n\n    var $companyNode = $node.children('.company');\n    data.company = this.parseCompanyNode($companyNode);\n\n    data.quote = $node.children('.quote').text().trim();\n    return data;\n  },\n\n  parseAuthorNode: function($node) {\n    var $nameNode = $node.children('a');\n    var name = $nameNode.text().trim();\n    var url = this.getAttrHrefOrDefault($nameNode);\n    var avatar = $node.children('.avatar').attr('src');\n\n    var author = {\n      name: name,\n      url: url,\n      avatar: avatar\n    };\n\n    return author;\n  },\n\n  parseCompanyNode: function($node) {\n    var $companyNode = $node.children('a');\n    var name = $companyNode.text().trim();\n    var url = this.getAttrHrefOrDefault($companyNode);\n\n    var company = {\n      name: name,\n      url: url\n    };\n\n    return company;\n  },\n\n  getAttrHrefOrDefault: function($node) {\n    var href = $node.attr('href');\n    if (href === undefined) {\n      href = '#';\n    }\n    return href;\n  },\n};\n","'use strict';\n\nvar Testimonial = function($container, options) {\n  this.$container = $container;\n\n  this.initPlugin(options);\n};\n\nTestimonial.prototype = {\n  start: function() {\n    var self = this;\n    this.timerId = setInterval(function() {\n        self.next();\n      },\n      this.pluginOptions.timeout);\n  },\n\n  stop: function() {\n    clearInterval(this.timerId);\n    this.timerId = undefined;\n  },\n\n  next: function() {\n    if (this.timerId !== undefined) {\n      this.stop();\n    }\n\n    var currentSlide = this.$slideList[this.currentSlideIndex];\n    this.indexing();\n    var nextSlide = this.$slideList[this.currentSlideIndex];\n\n    currentSlide.animateHide();\n    nextSlide.animateShow();\n    this.resizePluginContainer();\n\n    if (this.currentSlideIndex <= this.pluginOptions.slideCount - 1) {\n      this.loadSlide();\n    }\n\n    this.start();\n  },\n\n  add: function(slideObj) {\n    /* global TestimonialSlide: false */\n    var slide = new TestimonialSlide(slideObj);\n\n    this.$slideList.push(slide);\n    this.slideRendering(slide, false);\n\n    this.removeSlide();\n  },\n\n  loadSlide: function() {\n    if (this.updateDataUrl) {\n      var self = this;\n      $.ajax({\n        url: this.updateDataUrl,\n        success: function(data) {\n          var slide = data;\n          self.add(slide);\n        }\n      });\n      return;\n    }\n\n    if (this.slideLoader) {\n      var slide = this.slideLoader();\n      this.add(slide);\n      return;\n    }\n  },\n\n  removeSlide: function() {\n    if (this.$slideList.length > this.pluginOptions.slideCount) {\n      var index = 1;\n      if (this.currentSlideIndex !== 0) {\n        index = 0;\n        this.currentSlideIndex--;\n      }\n      this.$slideList[index].$domNode.remove();\n      this.$slideList.splice(index, 1);\n    }\n  },\n\n  createOptions: function(options) {\n    var defaultOptions = this.getDefaultOptions();\n    this.pluginOptions = $.extend(defaultOptions, options);\n  },\n\n  getDefaultOptions: function() {\n    var defaultOptions = {\n      timeout: 7000,\n      autostart: true,\n      slideCount: 3\n    };\n    return defaultOptions;\n  },\n\n  slideListRendering: function() {\n    for (var i = 0; i < this.$slideList.length; i++) {\n      var slide = this.$slideList[i];\n      var isShow = i === this.currentSlideIndex;\n      this.slideRendering(slide, isShow);\n    }\n  },\n\n  parseDomTree: function() {\n    var $nodeArr = this.$container.children();\n    if ($nodeArr.length <= 0) {\n      return;\n    }\n    $nodeArr.remove();\n    /* global Parser: false */\n    var parser = new Parser($nodeArr);\n    this.dataList = parser.parse();\n  },\n\n  createSlides: function() {\n    for (var i = 0; i < this.dataList.length; i++) {\n      var data = this.dataList[i];\n      /* global TestimonialSlide: false */\n      var $slide = new TestimonialSlide(data);\n      this.$slideList.push($slide);\n    }\n  },\n\n  createInfrastructure: function() {\n    this.$slideListWrapper = $('<div />', {\n      'class': 'main_container'\n    });\n    this.$container.append(this.$slideListWrapper);\n    this.createButtonNext();\n  },\n\n  createButtonNext: function() {\n    var $buttonNext = $('<div />', {\n      'class': 'next_slide'\n    });\n    var self = this;\n    $buttonNext.click(function() {\n      self.next();\n    });\n    this.$container.append($buttonNext);\n  },\n\n  resizePluginContainer: function() {\n    if (this.$slideList.length <= 0) {\n      return;\n    }\n    var indents = 20;\n    var slideHeight = this.$slideList[this.currentSlideIndex].height();\n\n    this.$container.height(slideHeight + indents);\n  },\n\n  indexing: function() {\n    if (this.$slideList.length === 0) {\n      this.currentSlideIndex = 0;\n      return;\n    }\n\n    this.currentSlideIndex++;\n    if (this.currentSlideIndex === this.$slideList.length) {\n      this.currentSlideIndex = 0;\n    }\n  },\n\n  slideRendering: function(slide, isShow) {\n    if (!isShow) {\n      slide.hideSlide();\n    }\n    var $node = slide.getDomNode();\n    this.$slideListWrapper.append($node);\n  },\n\n  initSlideList: function() {\n    this.parseDomTree();\n    this.createSlides();\n    this.createInfrastructure();\n    this.slideListRendering();\n    this.resizePluginContainer();\n  },\n\n  initPlugin: function(options) {\n    this.$slideList = [];\n    this.dataList = [];\n    this.currentSlideIndex = 0;\n    this.slideLoader = undefined;\n    this.updateDataUrl = undefined;\n\n    this.createOptions(options);\n    this.initSlideList();\n\n    if (this.pluginOptions.autostart) {\n      this.start();\n    }\n  }\n};\n","'use strict';\n\nvar TestimonialSlide = function(data) {\n  this.data = this.createData(data);\n\n  this.createOptions();\n  this.createSlide();\n};\n\nTestimonialSlide.prototype = {\n  createData: function(data) {\n    var emptydata = {\n      author: {\n        name: '',\n        url: '',\n        avatar: ''\n      },\n      company: {\n        name: '',\n        url: ''\n      },\n      quote: ''\n    };\n    var resultData = $.extend(emptydata, data);\n    return resultData;\n  },\n\n  createOptions: function() {\n    this.options = {\n      duration: 750,\n      distance: 250,\n      cssClass: 'testimonial_slide'\n    };\n  },\n\n  createSlide: function() {\n    this.createStandardDomNode();\n    this.$domNode.append(this.createQuoteNode());\n    this.$domNode.append(this.createImgAuthorFoto());\n  },\n\n  createStandardDomNode: function() {\n    this.$domNode = $('<div />', {\n      'class': this.options.cssClass\n    });\n  },\n\n  createQuoteNode: function() {\n    var $quoteNode = $('<div />', {\n      'class': 'quote'\n    });\n\n    $quoteNode.append(this.createDivWithClass('quotation_mark'));\n    $quoteNode.append(this.createTextNode());\n    $quoteNode.append(this.createDivWithClass('quotation_mark_inverted'));\n    $quoteNode.append(this.createSignatureNode());\n    return $quoteNode;\n  },\n\n  createTextNode: function() {\n    var $text = this.createDivWithClass('text');\n    $text.text(this.data.quote);\n    return $text;\n  },\n\n  createDivWithClass: function(className) {\n    var $div = $('<div />', {\n      'class': className\n    });\n    return $div;\n  },\n\n  createSignatureNode: function() {\n    var $signatureNode = this.createDivWithClass('signature');\n    $signatureNode.append(this.createAuthorNode());\n    $signatureNode.append(this.createCompanyNode());\n    return $signatureNode;\n  },\n\n  createAuthorNode: function() {\n    var $authorNode = this.createDivWithClass('author');\n    $authorNode.text('- ');\n    var $link = this.createLinkNode(this.data.author.url, this.data.author.name);\n    $authorNode.append($link);\n    return $authorNode;\n  },\n\n  createCompanyNode: function() {\n    var $companyNode = this.createDivWithClass('company');\n    var $link = this.createLinkNode(this.data.company.url, this.data.company.name);\n    $companyNode.append($link);\n    return $companyNode;\n  },\n\n  createLinkNode: function(href, text) {\n    var $linkNode = $('<a />', {\n      target: '_blank',\n      href: href,\n      text: text\n    });\n    return $linkNode;\n  },\n\n  createImgAuthorFoto: function() {\n    var $authorFoto = $('<img />', {\n      'class': 'author_foto',\n      'src': this.data.author.avatar\n    });\n    return $authorFoto;\n  },\n\n  animateHide: function() {\n    var self = this;\n\n    this.$domNode.animate({\n        'margin-left': '+=' + this.options.distance + 'px',\n        opacity: '0'\n      },\n      this.options.duration,\n      function() {\n        self.hideSlide();\n      }\n    );\n  },\n\n  animateShow: function() {\n    this.$domNode.show().animate({\n        'margin-left': '+=' + this.options.distance + 'px',\n        opacity: '1'\n      },\n      this.options.duration * 2);\n  },\n\n  hideSlide: function() {\n    var css = {\n      display: 'none',\n      opacity: 0,\n      'margin-left': '-' + this.options.distance + 'px'\n    };\n    this.$domNode.css(css);\n  },\n\n  height: function() {\n    return this.$domNode.height();\n  },\n\n  getDomNode: function() {\n    return this.$domNode;\n  }\n};\n"],"sourceRoot":"/source/"}