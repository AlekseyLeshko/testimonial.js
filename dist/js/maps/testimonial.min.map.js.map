{"version":3,"sources":["parser.js","testimonial.js","testimonialSlide.js"],"names":["Parser","$nodeList","this","dataList","prototype","parse","i","length","$node","$","data","parseNode","push","$authorNode","children","author","parseAuthorNode","$companyNode","company","parseCompanyNode","quote","text","trim","$nameNode","name","url","getAttrHrefOrDefault","avatar","attr","href","undefined","Testimonial","$container","options","createOptions","initPlugin","start","self","timerId","setInterval","next","timeout","stop","clearInterval","cleanSlideArr","transitionAnimation","isNeedLoadSlide","loadSlide","isNeedStartSlider","add","slideObj","createAndAddSlide","slide","getLastSlide","slideRendering","resizePluginContainer","defaultOptions","getDefaultOptions","extend","setMinSizePlugin","slideArr","currentSlideIndex","initSlideArr","autostart","getCurrentSlide","getNextSlide","indexing","index","currentSlide","nextSlide","animateHide","animateShow","answer","slideCount","isFunction","functionToCheck","getType","toString","call","getSlide","width","minWidth","whetherToRemoveSlide","removeSlide","res","remove","a","splice","getSlideCount","setSlideCount","value","height","indents","slideArrRendering","parseAndCreateSlide","parseDomTree","createSlides","$nodeArr","parser","TestimonialSlide","bindEvents","$buttonNext","find","click","isNeedHideSlide","indexOf","$slideArrContainer","renderTo","hideSlide","configContainer","createTemplate","template","renderTemplate","magicNumber","html","join","createData","createSlide","emptydata","resultData","duration","distance","cssClass","setHeightForBlockDiv","$domNode","marginLeft","margin-left","opacity","animate","show","css","display","empty","str","getDataForTemplate","main","$parent","append"],"mappings":"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","file":"testimonial.min.map.js","sourcesContent":["'use strict';\n\nvar Parser = function($nodeList) {\n  this.$nodeList = $nodeList;\n  this.dataList = [];\n};\n\nParser.prototype = {\n  parse: function() {\n    for (var i = 0; i < this.$nodeList.length; i++) {\n      var $node = $(this.$nodeList[i]);\n      var data = this.parseNode($node);\n      this.dataList.push(data);\n    }\n\n    return this.dataList;\n  },\n\n  parseNode: function($node) {\n    var data = {};\n\n    var $authorNode = $node.children('.author');\n    data.author = this.parseAuthorNode($authorNode);\n\n    var $companyNode = $node.children('.company');\n    data.company = this.parseCompanyNode($companyNode);\n\n    data.quote = $node.children('.quote').text().trim();\n    return data;\n  },\n\n  parseAuthorNode: function($node) {\n    var $nameNode = $node.children('a');\n    var name = $nameNode.text().trim();\n    var url = this.getAttrHrefOrDefault($nameNode);\n    var avatar = $node.children('.avatar').attr('src');\n\n    var author = {\n      name: name,\n      url: url,\n      avatar: avatar\n    };\n\n    return author;\n  },\n\n  parseCompanyNode: function($node) {\n    var $companyNode = $node.children('a');\n    var name = $companyNode.text().trim();\n    var url = this.getAttrHrefOrDefault($companyNode);\n\n    var company = {\n      name: name,\n      url: url\n    };\n\n    return company;\n  },\n\n  getAttrHrefOrDefault: function($node) {\n    var href = $node.attr('href');\n    if (href === undefined) {\n      href = '#';\n    }\n    return href;\n  },\n};\n","'use strict';\n\nvar Testimonial = function($container, options) {\n  this.$container = $container;\n  this.createOptions(options);\n\n  this.initPlugin();\n};\n\nTestimonial.prototype = {\n  start: function() {\n    var self = this;\n    this.timerId = setInterval(function() {\n        self.next();\n      },\n      this.options.timeout);\n  },\n\n  stop: function() {\n    clearInterval(this.timerId);\n    this.timerId = undefined;\n  },\n\n  next: function() {\n    this.stop();\n    this.cleanSlideArr();\n    this.transitionAnimation();\n\n    if (this.isNeedLoadSlide()) {\n      this.loadSlide();\n    }\n\n    if (this.isNeedStartSlider()) {\n      this.start();\n    }\n  },\n\n  add: function(slideObj) {\n    this.createAndAddSlide(slideObj);\n    var slide = this.getLastSlide();\n    this.slideRendering(slide);\n    this.resizePluginContainer();\n  },\n\n  createOptions: function(options) {\n    var defaultOptions = this.getDefaultOptions();\n    this.options = $.extend(defaultOptions, options);\n    this.setMinSizePlugin();\n  },\n\n  initPlugin: function() {\n    this.slideArr = [];\n    this.currentSlideIndex = 0;\n\n    this.initSlideArr();\n\n    if (this.options.autostart) {\n      this.start();\n    }\n  },\n\n  getCurrentSlide: function() {\n    var slide = this.slideArr[this.currentSlideIndex];\n    return slide;\n  },\n\n  getNextSlide: function() {\n    this.indexing();\n    var slide = this.getCurrentSlide();\n    return slide;\n  },\n\n  getLastSlide: function() {\n    var index = this.slideArr.length - 1;\n    var slide = this.slideArr[index];\n    return slide;\n  },\n\n  transitionAnimation: function() {\n    var currentSlide = this.getCurrentSlide();\n    var nextSlide = this.getNextSlide();\n\n    currentSlide.animateHide();\n    nextSlide.animateShow();\n    this.resizePluginContainer();\n  },\n\n  isNeedLoadSlide: function () {\n    var answer = this.currentSlideIndex <= this.options.slideCount - 1;\n    return answer;\n  },\n\n  isNeedStartSlider: function() {\n    var answer = this.timerId === undefined;\n    return answer;\n  },\n\n  isFunction: function(functionToCheck) {\n    var getType = {};\n    return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n  },\n\n  loadSlide: function() {\n    if (this.isFunction(this.options.getSlide)) {\n      var slide = this.options.getSlide();\n      this.add(slide);\n    }\n  },\n\n  setMinSizePlugin: function() {\n    if (this.options.width < this.options.minWidth) {\n      this.options.width = this.options.minWidth;\n    }\n  },\n\n  cleanSlideArr: function() {\n    if (this.whetherToRemoveSlide()) {\n      var index = 1;\n      if (this.currentSlideIndex !== 0) {\n        index = 0;\n        this.currentSlideIndex--;\n      }\n\n      this.removeSlide(index);\n    }\n  },\n\n  whetherToRemoveSlide: function() {\n    var res = this.slideArr.length > this.options.slideCount;\n    return res;\n  },\n\n  removeSlide: function(index) {\n    this.slideArr[index].remove();\n    var a = this.slideArr.splice(index, 1);\n    delete a[0];\n  },\n\n  getSlideCount: function() {\n    return this.options.slideCount;\n  },\n\n  setSlideCount: function(value) {\n    this.options.slideCount = value;\n\n    while (this.whetherToRemoveSlide()) {\n      this.cleanSlideArr();\n    }\n  },\n\n  getDefaultOptions: function() {\n    var defaultOptions = {\n      height: 175,\n      width: 700,\n      slideCount: 3,\n      timeout: 7000,\n      autostart: true,\n      indents: 25,\n      minWidth: 400,\n      getSlide: undefined\n    };\n    return defaultOptions;\n  },\n\n  slideArrRendering: function() {\n    for (var i = 0; i < this.slideArr.length; i++) {\n      var slide = this.slideArr[i];\n      this.slideRendering(slide);\n    }\n  },\n\n  parseAndCreateSlide: function() {\n    var dataList = this.parseDomTree();\n    this.createSlides(dataList);\n  },\n\n  parseDomTree: function() {\n    var $nodeArr = this.$container.children();\n    if ($nodeArr.length <= 0) {\n      return [];\n    }\n    $nodeArr.remove();\n    /* global Parser: false */\n    var parser = new Parser($nodeArr);\n    var dataList = parser.parse();\n    return dataList;\n  },\n\n  createSlides: function(dataList) {\n    for (var i = 0; i < dataList.length; i++) {\n      var data = dataList[i];\n      this.createAndAddSlide(data);\n    }\n  },\n\n  createAndAddSlide: function(data) {\n    var options = {\n      width: this.options.width\n    };\n    /* global TestimonialSlide: false */\n    var slide = new TestimonialSlide(data, options);\n    this.slideArr.push(slide);\n  },\n\n  bindEvents: function() {\n    var $buttonNext = this.$container.find('.next_slide');\n    var self = this;\n    $buttonNext.click(function() {\n      self.next();\n    });\n  },\n\n  resizePluginContainer: function() {\n    if (this.slideArr.length <= 0) {\n      return;\n    }\n    var currentSlide = this.getCurrentSlide();\n    var height = currentSlide.height() + this.options.indents;\n    this.$container.height(height);\n  },\n\n  indexing: function() {\n    this.currentSlideIndex++;\n    if (this.currentSlideIndex === this.slideArr.length) {\n      this.currentSlideIndex = 0;\n    }\n  },\n\n  isNeedHideSlide: function(slide) {\n    var index = this.slideArr.indexOf(slide);\n    var answer = index !== this.currentSlideIndex;\n    return answer;\n  },\n\n  slideRendering: function(slide) {\n    var $slideArrContainer = this.$container.find('.main_container');\n    slide.renderTo($slideArrContainer);\n\n    if (this.isNeedHideSlide(slide)) {\n      slide.hideSlide();\n    }\n  },\n\n  configContainer: function() {\n    // this.$container.height(this.options.height);\n    this.$container.width(this.options.width);\n  },\n\n  createTemplate: function() {\n    this.template = [\n      '<div class=\"main_container\" style=\"width: ',\n      'px\"></div>',\n      '<div class=\"next_slide\"></div>'\n    ];\n  },\n\n  renderTemplate: function() {\n    var magicNumber = 500;\n    var width = this.options.width * 2 + magicNumber;\n    this.template.splice(1, 0, width);\n    var html = this.template.join('');\n    this.$container.html(html);\n  },\n\n  initSlideArr: function() {\n      this.parseAndCreateSlide();\n      this.configContainer();\n      this.createTemplate();\n      this.renderTemplate();\n      this.bindEvents();\n      this.slideArrRendering();\n      this.resizePluginContainer();\n  }\n};\n","'use strict';\n\nvar TestimonialSlide = function(data, options) {\n  this.data = this.createData(data);\n\n  this.createOptions(options);\n  this.createSlide();\n};\n\nTestimonialSlide.prototype = {\n  createData: function(data) {\n    var emptydata = {\n      author: {\n        name: '',\n        url: '',\n        avatar: ''\n      },\n      company: {\n        name: '',\n        url: ''\n      },\n      quote: ''\n    };\n    var resultData = $.extend(emptydata, data);\n    return resultData;\n  },\n\n  createOptions: function(options) {\n    var defaultOptions = this.getDefaultOptions();\n    this.options = $.extend({}, defaultOptions, options);\n  },\n\n  getDefaultOptions: function() {\n    var defaultOptions = {\n      width: 700,\n      duration: 750,\n      distance: 250,\n      cssClass: 'testimonial_slide',\n      indents: 20\n    };\n    return defaultOptions;\n  },\n\n  setHeightForBlockDiv: function() {\n    var height = this.$domNode.height();\n    this.$domNode.find('.block').height(height);\n  },\n\n  createSlide: function() {\n    this.createTemplate();\n    this.renderTemplate();\n  },\n\n  animateHide: function() {\n    var self = this;\n\n    var marginLeft = '+=' + this.options.distance + 'px';\n    var options = {\n      'margin-left': marginLeft,\n      opacity: '0'\n    };\n\n    this.$domNode.animate(options,\n      this.options.duration,\n      function() {\n        self.hideSlide();\n      }\n    );\n  },\n\n  animateShow: function() {\n    var marginLeft = '+=' + this.options.distance + 'px';\n    var options = {\n      'margin-left': marginLeft,\n      opacity: '1'\n    };\n\n    var duration = this.options.duration * 2;\n    this.$domNode.show().animate(options, duration);\n  },\n\n  hideSlide: function() {\n    var marginLeft = '-' + this.options.distance + 'px';\n    var css = {\n      display: 'none',\n      opacity: 0,\n      'margin-left': marginLeft\n    };\n    this.$domNode.css(css);\n  },\n\n  height: function() {\n    return this.$domNode.height();\n  },\n\n  remove: function() {\n    this.$domNode.empty();\n    this.$domNode.remove();\n  },\n\n  createTemplate: function() {\n    var str = '<div class=\"quotation_mark right\"></div></div><div class=\"signature\"><div class=\"author\">';\n    str += '&#x2015;&nbsp;<a target=\"_blank\" href=\"';\n\n    this.template = [\n      '<div class=\"testimonial_slide\" style=\"width: ',\n      'px;\"><div class=\"content\"><div class=\"text\" style=\"width: ',\n      'px;\"><div class=\"quote\"><div class=\"quotation_mark left\"></div>',\n      str,\n      '\">',\n      '</a></div><div class=\"company\"><a target=\"_blank\" href=\"',\n      '\">',\n      '</a></div></div></div><div class=\"avatar\"><div class=\"block\"><div class=\"author\"><img src=\"',\n      '\"></div><div class=\"helper\"></div></div></div></div></div>'\n    ];\n  },\n\n  renderTemplate: function() {\n    var data = this.getDataForTemplate();\n    this.template.splice(1, 0, data.slide.width);\n    this.template.splice(3, 0, data.main.width);\n    this.template.splice(5, 0, data.slide.quote);\n    this.template.splice(7, 0, data.slide.author.url);\n    this.template.splice(9, 0, data.slide.author.name);\n    this.template.splice(11, 0, data.slide.company.url);\n    this.template.splice(13, 0, data.slide.company.name);\n    this.template.splice(15, 0, data.slide.author.avatar);\n\n    var html = this.template.join('');\n    this.$domNode = $(html);\n  },\n\n  getDataForTemplate: function() {\n    var magicNumber = 180;\n    var width = this.options.width - magicNumber;\n    var data = {\n      main: {\n        width: width\n      }\n    };\n    data.slide = this.data;\n    data.slide.width = this.options.width - this.options.indents;\n    return data;\n  },\n\n  renderTo: function($parent) {\n    $parent.append(this.$domNode);\n    this.setHeightForBlockDiv();\n  }\n};\n"],"sourceRoot":"/source/"}